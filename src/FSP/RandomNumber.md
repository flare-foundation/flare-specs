# Random Number

The Random number for votingRound is the finalized FTSO (protocol ID 100) Merkle root.

Random number for the latest finalized votingRound is available on Relay smart contract using

```Solidity
function getRandomNumber()
    external view
    returns (
        uint256 _randomNumber,
        bool _isSecureRandom,
        uint256 _randomTimestamp
    );
```

For a past votingRounds, random number is available using

```Solidity
function getRandomNumberHistorical(uint256 _votingRoundId)
    external view
    returns (
        uint256 _randomNumber,
        bool _isSecureRandom,
        uint256 _randomTimestamp
    );
```

## FTSO Merkle root

Each reveal of a data provider contains a random number generated by the data provider, used to mask the corresponding commit.
All the revealed random numbers are added together (modulo max uint256) to produce and aggregate random number.
Such a random number is random, if at least one of the numbers from eligible data providers is generated by a good random generator and all commits for the eligible data providers have their matching reveals.
A random number is secure if all the providers that committed in the round also successfully revealed.
Note that a provider that does not successfully reveal after committing is chilled for a random number of blocks TODO.
A random number is included in the Merkle tree for the FTSO in the form

$$(\mathrm{votingRoundID},\mathrm{aggregatedRandom}, \mathrm{isSecure}).$$

Then the Merkle root is also random and is used as a random number for the voting round ID.
